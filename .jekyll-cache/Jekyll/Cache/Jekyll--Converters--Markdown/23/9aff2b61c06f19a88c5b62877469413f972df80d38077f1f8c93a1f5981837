I",<p>On met en pratique la thÃ©orie sur lâ€™agrandissement des caractÃ¨res.</p>

<h2 id="ce-que-jai-fait-">Ce que jâ€™ai fait :</h2>
<h3 id="ajout-dunitÃ©s-relatives">Ajout dâ€™unitÃ©s relatives</h3>
<p>La feuille de styles par dÃ©faut du blog comportait des unitÃ©s en pixels et quelques tailles en <code class="highlighter-rouge">em</code> par-ci par-lÃ . <strong>Jâ€™ai choisi dâ€™utiliser lâ€™unitÃ© relative <code class="highlighter-rouge">rem</code> sur lâ€™ensemble du blog</strong>. Pourquoi du <code class="highlighter-rouge">rem</code> et pas du <code class="highlighter-rouge">em</code> ? La principale raison est que jâ€™ai lâ€™habitude dâ€™utiliser cette unitÃ© et que je la trouve plus facile Ã  manier car il nâ€™y a pas de question dâ€™hÃ©ritage Ã  gÃ©rer. Mais je ne suis pas anti <code class="highlighter-rouge">em</code> pour autant, je compte bien dâ€™ailleurs utiliser cette unitÃ© dans un de mes projets futurs pour mieux me familiariser avec.</p>

<p>Jâ€™ai choisi de simplifier le calcul de conversion des <code class="highlighter-rouge">px</code> en <code class="highlighter-rouge">rem</code> en ajoutant la propriÃ©tÃ© suivanteÂ :</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>html {
  font-size: 62.5%; // to facilitate calculations, assuming that the base size is 16px
  font-size: calc(1em * 0.625);  // IE9-IE11 math fixing
}
</code></pre></div></div>

<p>En partant de lâ€™idÃ©e que la taille par dÃ©faut dâ€™un navigateur est de 16px, 62.5% de ces 16px donnent 10px Ã  lâ€™affichage. Les calculs sont donc grandement facilitÃ©s :</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>p {
  font-size: 1.8rem /* taille Ã©quivalente Ã  18px */
}
</code></pre></div></div>

<p>Evidemment, la taille de base dâ€™un navigateur peut ne pas Ãªtre systÃ©matiquement de 16px ou bien lâ€™internaute peut avoir modifier ses prÃ©fÃ©rences pour avoir une taille de base de 24px. Mais cela ne pose pas vraiment de problÃ¨me puisque dans tous les cas lâ€™ensemble sâ€™adaptera de maniÃ¨re fluide tout en respectant les prÃ©fÃ©rences de lâ€™internaute.</p>

<p>Quant Ã  la ligne <code class="highlighter-rouge">font-size: calc(1em * 0.625);</code>, elle permet de corriger une erreur dâ€™arrondi dans Internet Explorer pour qui une taille de lâ€™Ã©lÃ©ment <code class="highlighter-rouge">html</code> dÃ©finie Ã  62.5%  ne vaut pas 10px maisâ€¦ 9.93px.</p>

<p>Jâ€™ai appliquÃ© lâ€™unitÃ© <code class="highlighter-rouge">rem</code> sur lâ€™ensemble des tailles de caractÃ¨res, mais Ã©galement sur les <code class="highlighter-rouge">margin</code> et <code class="highlighter-rouge">padding</code>, afin que lâ€™agrandissement des caractÃ¨res et des espacements soit harmonieux.</p>

<p>Jâ€™ai Ã©galement vÃ©rifiÃ© que les propriÃ©tÃ©s <code class="highlighter-rouge">line-height</code> ne comportaient pas dâ€™unitÃ©s.</p>

<p>Enfin, la taille du conteneur principal du blog est dÃ©finie avec une largeur maximale de 740px de la maniÃ¨re suivante : <code class="highlighter-rouge">max-width: 74rem;</code>. Je me suis donc assurÃ©e que lâ€™agrandissement global et uniquement du texte ne posait pas de souci avec cette propriÃ©tÃ©.</p>

<h3 id="tests-avec-le-zoom-du-navigateur">Tests avec le zoom du navigateur</h3>
<p>Lâ€™agrandissement Ã  200%, uniquement du texte, ne pose pas de problÃ¨me particulier. Le contenu reste lisible. Idem pour le test avec le zoom graphique.</p>

<h2 id="ce-que-jai-appris">Ce que jâ€™ai appris</h2>
<p>Un rappel trÃ¨s important et intÃ©ressant : <strong>les media-queries sont basÃ©es sur les prÃ©fÃ©rences utilisateur, et non pas lâ€™Ã©lÃ©ment <code class="highlighter-rouge">html</code></strong>. <a href="http://codepen.io/nico3333fr/pen/KzYvGb/">Sur le Codepen suivant<span class="sr-only">(lien externe)</span><svg xmlns="http://www.w3.org/2000/svg" version="1.0" width="12" height="12" aria-hidden="true"><path id="stroke-ext" fill="#fff" stroke="#06c" d="M1.5 4.5h6v6h-6z"></path><path id="fill-ext" d="M4 2.5l1 1 .25.75-2.5 2.25L5.5 9.25l2.25-2.5.75.25 1 1L11 6.5V1H5.5L4 2.5z" fill="#06f" fill-rule="evenodd"></path><path d="M6 2h4v4l-.5.75-1.25-2-3 3.25L4 6.75l3.25-3-2-1.25L6 2z" fill="#fff" fill-rule="evenodd"></path></svg></a> (tirÃ© de lâ€™excellent article de Nicolas Hoffmann, <a href="https://www.nicolas-hoffmann.net/source/1693-Les-media-queries-et-les-preferences-utilisateurs.html">Les media-queries et les prÃ©fÃ©rences utilisateurs<span class="sr-only">(lien externe)</span><svg xmlns="http://www.w3.org/2000/svg" version="1.0" width="12" height="12" aria-hidden="true"><path id="stroke-ext" fill="#fff" stroke="#06c" d="M1.5 4.5h6v6h-6z"></path><path id="fill-ext" d="M4 2.5l1 1 .25.75-2.5 2.25L5.5 9.25l2.25-2.5.75.25 1 1L11 6.5V1H5.5L4 2.5z" fill="#06f" fill-rule="evenodd"></path><path d="M6 2h4v4l-.5.75-1.25-2-3 3.25L4 6.75l3.25-3-2-1.25L6 2z" fill="#fff" fill-rule="evenodd"></path></svg></a>), vous pouvez constater le comportement strictement identique du media-query, quâ€™il y ait un reset de 62.5% dans lâ€™Ã©lÃ©ment <code class="highlighter-rouge">html</code> ou non.</p>

<p>Cela signifie donc que pour mon media-query prÃ©cÃ©demment dÃ©fini avec un <code class="highlighter-rouge">min-width: 640px</code>, lâ€™Ã©quivalent en <code class="highlighter-rouge">rem</code> sera non pas <code class="highlighter-rouge">min-width: 64rem</code> mais <code class="highlighter-rouge">min-width: 40rem</code>. Il faut en effet bien penser Ã  diviser la taille par 16px, soit la taille de rÃ©fÃ©rence choisie pour nos calculs. Autrement dit, on aura bien :</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>@mixin desktop {
  @media screen and (min-width: 40rem) {
    // 640px / 16 = 40rem
    @content;
  }
}
</code></pre></div></div>

<p>Dans son article en date de mai 2016 et mis Ã  jour en mars 2018, Nicolas Hoffmann Ã©voque plusieurs problÃ¨mes de support des <code class="highlighter-rouge">rem</code> dans les medias-queries, notamment sur Firefox et Safari qui ne dÃ©clenchent pas le breakpoint au bon moment. Le problÃ¨me a depuis Ã©tÃ© rÃ©solu sur Firefox et cela semble Ã©galement Ãªtre le cas sur Safari puisque <a href="https://caniuse.com/#search=rem" lang="en" hreflang="en">le site Can I Use<span class="sr-only">(lien externe)</span><svg xmlns="http://www.w3.org/2000/svg" version="1.0" width="12" height="12" aria-hidden="true"><path id="stroke-ext" fill="#fff" stroke="#06c" d="M1.5 4.5h6v6h-6z"></path><path id="fill-ext" d="M4 2.5l1 1 .25.75-2.5 2.25L5.5 9.25l2.25-2.5.75.25 1 1L11 6.5V1H5.5L4 2.5z" fill="#06f" fill-rule="evenodd"></path><path d="M6 2h4v4l-.5.75-1.25-2-3 3.25L4 6.75l3.25-3-2-1.25L6 2z" fill="#fff" fill-rule="evenodd"></path></svg></a> annonce un support total de lâ€™unitÃ© <code class="highlighter-rouge">rem</code> et ne signale un souci de compatibilitÃ© avec les medias-queries que pour les versions iOS 5.0 et 5.1.</p>
:ET