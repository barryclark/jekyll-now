I"ƒ%<p>Gros travail sur la mise en accessibilitÃ© des liens sur le blog.</p>

<h2 id="ce-que-jai-fait-">Ce que jâ€™ai fait :</h2>
<ul>
  <li>modifier le code du blog pour avoir des liens accessibles et en conformitÃ© avec les recommandations Opquast</li>
</ul>

<h2 id="aperÃ§u-du-code">AperÃ§u du code</h2>
<h3 id="les-hyperliens-de-mÃªme-nature-ont-des-couleurs-des-formes-et-des-comportements-identiques-sur-toutes-les-pages">Les hyperliens de mÃªme nature ont des couleurs, des formes et des comportements identiques sur toutes les pages</h3>
<p>Tous les liens prÃ©sents dans mes articles sont de couleur bleu par dÃ©faut. Les liens du menu de navigation, du header et des titres dâ€™article ont des couleurs spÃ©cifiques Ã  leur fonction.</p>

<h3 id="le-survol-ou-lactivation-des-hyperliens-ne-modifie-pas-la-mise-en-page">Le survol ou lâ€™activation des hyperliens ne modifie pas la mise en page</h3>
<p>Les liens par dÃ©faut sont soulignÃ©s au survol, les autres liens changent de couleur. Câ€™est une mise en forme simple mais efficace.</p>

<h3 id="des-styles-diffÃ©rents-pour-les-liens-visitÃ©s-et-non-visitÃ©s">Des styles diffÃ©rents pour les liens visitÃ©s et non visitÃ©s</h3>
<p>Jâ€™ai choisi de changer la couleur des liens visitÃ©s pour quâ€™ils soient violet. Il sâ€™agit de la couleur par dÃ©faut des liens visitÃ©s, donc câ€™est potentiellement un comportement avec lequel les internautes sont familiers.</p>

<h3 id="la-langue-principale-de-la-page-cible-dun-hyperlien-est-identifiable-lorsquelle-diffÃ¨re-de-celle-de-la-page-dorigine">La langue principale de la page cible dâ€™un hyperlien est identifiable lorsquâ€™elle diffÃ¨re de celle de la page dâ€™origine</h3>
<p>Pour les liens pointant vers une page en anglais par exemple, jâ€™ai ajoutÃ© des attributs spÃ©cifiques :</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- l'emploi de la syntaxe &lt;a href="http://getbem.com/" lang="en" hreflang="en"&gt;BEM (Block Element Modifier)&lt;/a&gt; pour nommer les class CSS
</code></pre></div></div>

<p>Lâ€™attribut <code class="highlighter-rouge">lang="en"</code> signale aux lecteurs dâ€™Ã©cran que le contenu du lien est dans une langue diffÃ©rente de la langue principale, ici lâ€™anglais. Lâ€™attribut <code class="highlighter-rouge">hreflang="en"</code> indique que la page cible du lien est en anglais.</p>

<p>Lâ€™attribut <code class="highlighter-rouge">lang</code> doit Ãªtre utilisÃ© pour tous les mots diffÃ©rents de la langue principale signalÃ©e dans la balise <code class="highlighter-rouge">html</code>.</p>

<h3 id="le-libellÃ©-de-chaque-hyperlien-dÃ©crit-sa-fonction-ou-la-nature-du-contenu-vers-lequel-il-pointe">Le libellÃ© de chaque hyperlien dÃ©crit sa fonction ou la nature du contenu vers lequel il pointe</h3>
<p>Jâ€™ai dÃ» reprendre un Ã  un tous les liens insÃ©rÃ©s dans chacun de mes articles depuis le lancement de ce blog (heureusement pour moi je nâ€™en suis quâ€™au jour 16 et pas au jour 99).</p>

<p>Je nâ€™ai pas touchÃ© aux liens dont je jugeais lâ€™intitulÃ© suffisamment explicite.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- lire les &lt;a href="https://www.w3.org/WAI/fundamentals/accessibility-principles/fr"&gt;Principes d'accessibilitÃ© du W3C&lt;/a&gt;
</code></pre></div></div>

<p>Jâ€™ai ajoutÃ© un <code class="highlighter-rouge">aria-label</code> sur les liens qui me paraissaient moins Ã©vidents Ã  comprendre uniquement via lâ€™intitulÃ©.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>je vous propose un retour d'expÃ©rience d'&lt;a href="https://twitter.com/eaboaf_" aria-label="Compte Twitter d'Emanuelle Aboaf"&gt;Emmanuelle Aboaf&lt;/a&gt;
</code></pre></div></div>

<p>Certains liens mâ€™ont vraiment interrogÃ© sur la maniÃ¨re de complÃ©ter lâ€™intitulÃ©, puisque nous sommes censÃ©s - dans la mesure du possible - reprendre dans lâ€™attribut <code class="highlighter-rouge">aria-label</code> une partie de lâ€™intitulÃ© du lien. Ce problÃ¨me sâ€™est notamment posÃ© avec les deux liens prÃ©sents dans <a href="/lancement-blog/">mon premier article<a>. En faisant des tests, il est apparu que pour que lâ€™intÃ©gralitÃ© du texte soit lue, je devais procÃ©der ainsi :</a></a></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>il paraÃ®t que &lt;a href="https://vimeo.com/142169449" aria-label="nous sommes toutes et tous lÃ©gitimes : ConfÃ©rence en vidÃ©o de Marie Guillaumet sur VimÃ©o"&gt;nous sommes toutes et tous lÃ©gitimes&lt;/a&gt;
</code></pre></div></div>

<p>La rÃ©pÃ©tition de lâ€™intituÃ© dans le <code class="highlighter-rouge">aria-label</code> est donc nÃ©cessaire car seul le contenu du <code class="highlighter-rouge">aria-label</code> est lu par les lecteurs dâ€™Ã©cran.</p>

<h3 id="les-hyperliens-internes-et-externes-sont-diffÃ©renciÃ©s">Les hyperliens internes et externes sont diffÃ©renciÃ©s</h3>
<p>VoilÃ  sÃ»rement la partie qui mâ€™a posÃ© le plus de problÃ¨mes. Lâ€™idÃ©e est dâ€™avertir clairement lâ€™internaute du fait quâ€™il va quitter le site quâ€™il est en train de visiter. Je souhaitais une solution qui permette de remplir plusieurs objectifs :</p>
<ul>
  <li>la diffÃ©rentiation doit Ãªtre visible pour tous les internautes, quâ€™ils utilisent un lecteur dâ€™Ã©cran ou non</li>
  <li>je ne souhaitais pas ajouter une mention â€œlien externeâ€ directement dans lâ€™intitulÃ©. Il sâ€™agit effectivement de la solution la plus claire et la plus simple, mais je la trouve un peu trop verbeuse.</li>
  <li>je voulais que la mise en forme appliquÃ©e aux liens visitÃ©s sâ€™applique Ã©galement aux liens externes visitÃ©s</li>
  <li>je voulais une solution pas trop compliquÃ©e Ã  implÃ©menter sur les liens dÃ©jÃ  existants</li>
</ul>

<p>Jâ€™ai donc choisi la solution suivante :</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;a href="https://www.24joursdeweb.fr/2013/attribut-title-avec-moderation/"&gt;l'article de Romy Duhem-VerdiÃ¨re : L'attribut title : Ã  consommer avec modÃ©ration

&lt;span class="sr-only"&gt;(lien externe)&lt;/span&gt;

&lt;svg xmlns="http://www.w3.org/2000/svg" version="1.0" width="12" height="12" aria-hidden="true"&gt;&lt;path id="stroke-ext" fill="#fff" stroke="#06c" d="M1.5 4.5h6v6h-6z"/&gt;&lt;path id="fill-ext" d="M4 2.5l1 1 .25.75-2.5 2.25L5.5 9.25l2.25-2.5.75.25 1 1L11 6.5V1H5.5L4 2.5z" fill="#06f" fill-rule="evenodd"/&gt;&lt;path d="M6 2h4v4l-.5.75-1.25-2-3 3.25L4 6.75l3.25-3-2-1.25L6 2z" fill="#fff" fill-rule="evenodd"/&gt;&lt;/svg&gt;
&lt;/a&gt;
</code></pre></div></div>

<p>Jâ€™ai choisi dâ€™utiliser un <abbr title="Scalable Vector Graphic">SVG</abbr> car la pseudo-class <code class="highlighter-rouge">:visited</code> ne tolÃ¨re que peu de propriÃ©tÃ©s de style, donc <span lang="en">fill</span> et <span lang="en">stroke</span> (voir Ã  ce sujet <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/:visited#Styling_restrictions" hreflang="en">lâ€™article de Mozilla<span class="sr-only">(lien externe)</span><svg xmlns="http://www.w3.org/2000/svg" version="1.0" width="12" height="12" aria-hidden="true"><path id="stroke-ext" fill="#fff" stroke="#06c" d="M1.5 4.5h6v6h-6z"></path><path id="fill-ext" d="M4 2.5l1 1 .25.75-2.5 2.25L5.5 9.25l2.25-2.5.75.25 1 1L11 6.5V1H5.5L4 2.5z" fill="#06f" fill-rule="evenodd"></path><path d="M6 2h4v4l-.5.75-1.25-2-3 3.25L4 6.75l3.25-3-2-1.25L6 2z" fill="#fff" fill-rule="evenodd"></path></svg></a>).</p>

<p>Le code suivant me permet donc de changer la couleur du SVG en fonction de lâ€™Ã©tat du lien, visitÃ© ou non :</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>a {
  color: #3673B0;
  cursor: pointer;
  text-decoration: none;

  svg {
    margin-left: 3px;

    path#stroke-ext {
      stroke: #3673B0;
    }

    path#fill-ext {
      fill: #3673B0;
    }
  }

  &amp;:visited {
    color: #800080;

    svg {
      path#stroke-ext {
        stroke: #800080;
      }

      path#fill-ext {
        fill: #800080;
      }
    }
  }
}
</code></pre></div></div>

<p>Ce SVG Ã©tant porteur de sens, je lui ai ajoutÃ© un attrbut <code class="highlighter-rouge">aria-hidden="true"</code> pour quâ€™il ne soit pas lu par les lecteurs dâ€™Ã©cran, et jâ€™ai ajoutÃ© un <code class="highlighter-rouge">&lt;span class="sr-only"&gt;(lien externe)&lt;/span&gt;</code> contenant un texte de remplacement permettant de rendre explicite lâ€™icone SVG. La class <code class="highlighter-rouge">sr-only</code> rend la balise invisible mais toujours lisible par des lecteurs dâ€™Ã©cran.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.sr-only {
  clip: rect(1px, 1px, 1px, 1px);
  height: 1px;
  overflow: hidden;
  position: absolute;
  white-space: nowrap;
  width: 1px;
}
</code></pre></div></div>

<p>Jâ€™ai encapsulÃ© le code spÃ©cifique Ã  un lien externe dans un fichier <span lang="en">include</span>, ce qui me permet de nâ€™avoir Ã  ajouter quâ€™un simple <code class="highlighter-rouge">include external-icon.html</code> pour tous les liens externes.</p>

<p>Il aurait Ã©tÃ© possible de passer par une police dâ€™icones et de gÃ©nÃ©rer ensuite lâ€™icone via un <code class="highlighter-rouge">&lt;span&gt;</code> et un pseudo-element <code class="highlighter-rouge">:after</code>, mais Ã©tant donnÃ© que je ne prÃ©voyais dâ€™utiliser quâ€™un seul icone, je ne voyais pas lâ€™intÃ©rÃªt de tÃ©lÃ©charger une police entiÃ¨re.</p>

<p>Que pensez-vous de cette solution ? Nâ€™hÃ©sitez pas Ã  donner votre avis !</p>
:ET