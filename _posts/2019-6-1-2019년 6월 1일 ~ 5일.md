---
layout: post
title: 2019ë…„ 6ì›” 1ì¼ ~ 5ì¼
date: 2019-06-01
comments: true
categories: [TIL, til]
tags: [React Native, AsyncStorage, ì›¹ë·°, HTTP, axios, ì •ê·œí‘œí˜„ì‹]
excerpt: ""
---

## ğŸ“… 2019ë…„ 6ì›” 1ì¼

ì›¹ì—ì„œëŠ” tokenì„ ë°›ìœ¼ë©´ local storageì— ì €ì¥í•˜ëŠ” ê²ƒì²˜ëŸ¼, ëª¨ë°”ì¼ ì—ì„œëŠ” **AsyncStorage**ë¥¼ ì“¸ ìˆ˜ ìˆë‹¤.

ë¦¬ì•¡íŠ¸ ë„¤ì´í‹°ë¸Œì—ì„œ import í•´ì˜¬ ìˆ˜ ìˆëŠ” AsyncStorageëŠ” deprecatedë˜ì—ˆê³ , ì´ì œ [react-native-community/react-native-async-storage](https://github.com/react-native-community/async-storage)ë¥¼ ì¨ì•¼í•œë‹¤.

```javascript
import AsyncStorage from "@react-native-community/async-storage";
```

local storageì²˜ëŸ¼ `setItem`, `getItem` ë“±ì„ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ”ë°, **ê° APIëŠ” Promiseë¥¼ ë°˜í™˜í•œë‹¤.**

`key`, `value` í˜ì–´ë¡œ ì €ì¥ì´ ë˜ë©°, `key`ì™€ `value`ëŠ” `string` í˜•íƒœì—¬ì•¼ í•œë‹¤.

## ğŸ“… 2019ë…„ 6ì›” 2ì¼

### axios

axiosëŠ” **HTTP í†µì‹ ì„ í•  ìˆ˜ ìˆëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬**ë¡œ, ë¸Œë¼ìš°ì €ì™€ node.js í”Œë«í¼ì—ì„œ ëª¨ë‘ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
Promiseë¥¼ ê¸°ë°˜ìœ¼ë¡œ async/await ë¬¸ë²•ì„ ì‚¬ìš©, XHR requestë¥¼ ì‰½ê²Œ í•  ìˆ˜ ìˆë‹¤. ë¬´ì—‡ë³´ë‹¤ JSON ë°ì´í„°ë¥¼ ìë™ë³€í™˜ í•´ì£¼ê¸° ë•Œë¬¸ì— ê°œê¿€ ğŸ¯

### ì •ê·œí‘œí˜„ì‹

ì •ê·œí‘œí˜„ì‹(æ­£è¦è¡¨ç¾å¼, Regular Expression)ì€ ë¬¸ìì—´ì„ ì²˜ë¦¬í•˜ëŠ” ë°©ë²• ì¤‘ì˜ í•˜ë‚˜ë¡œ íŠ¹ì •í•œ ì¡°ê±´ì˜ ë¬¸ìë¥¼ 'ê²€ìƒ‰'í•˜ê±°ë‚˜ 'ì¹˜í™˜'í•˜ëŠ” ê³¼ì •ì„ ë§¤ìš° ê°„í¸í•˜ê²Œ ì²˜ë¦¬í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ìˆ˜ë‹¨ì´ë‹¤.

**ì´ë©”ì¼ì£¼ì†Œ í™•ì¸, ë¹„ë°€ë²ˆí˜¸ ê·œì¹™** ë“±ì— í™œìš©ë  ìˆ˜ ìˆìœ¼ë©°,

ì•„ë˜ì™€ ê°™ì´ ì“¸ ìˆ˜ ìˆë‹¤.

```javascript
let emailPattern = /^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/;

let emailIsValid = emailPattern.test(email); # boolean
```

## ğŸ“… 2019ë…„ 6ì›” 5ì¼

### React Native WebView

google social ë¡œê·¸ì¸ ì‹œ ê³„ì •ì—°ê²°ì„ ìœ„í•´ **Webview** ë¥¼ ì”€

- userAgentë¥¼ ì„¤ì •í•´ ì£¼ì–´ì•¼ í•¨

```javascript
import React, { Component } from "react";
import { SafeAreaView, Platform, View, WebView } from "react-native";
let userAgent =
  "Mozilla/5.0 (iPhone; CPU iPhone OS 12_0 like Mac OS X) AppleWebKit/ 604.1.21 (KHTML, like Gecko) Version/ 12.0 Mobile/17A6278a Safari/602.1.26";
if (Platform.OS !== "ios") {
  userAgent =
    "Mozilla/5.0 (Linux; Android 8.0.0; TA-1053 Build/OPR1.170623.026) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3368.0 Mobile Safari/537.36";
}
export default class MyInlineWeb extends Component {
  render() {
    return (
      <View>
        <WebView
          userAgent={userAgent}
          originWhitelist={["*"]}
          source={this.props.source}
        />
      </View>
    );
  }
}
```

<br>
- ë¿ë§Œì•„ë‹ˆë¼, xcodeì˜ AppDelegate.mì—ë„ ì•„ë˜ ë‚´ìš©ì„ ì¶”ê°€í•´ ì£¼ì–´ì•¼ í•¨

```javascript
NSString *userAgent = @"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.99 Safari/537.36";
NSDictionary *dictionary = [[NSDictionary alloc] initWithObjectsAndKeys:userAgent, @"UserAgent", nil];
[[NSUserDefaults standardUserDefaults] registerDefaults:dictionary];
```

<br>

---

<span class="reference">ì°¸ê³ ìë£Œ</span>

- [React Native AsyncStorage](https://facebook.github.io/react-native/docs/asyncstorage.html)
- [HTTP requests using Axios](https://flaviocopes.com/axios/)
- [ìì£¼ ì“°ì´ëŠ” ì •ê·œì‹](https://gocoding.tistory.com/93)
