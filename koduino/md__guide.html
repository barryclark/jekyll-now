<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>Koduino: Guide</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
 <!-- ADDED THIS CELL -->
  <td style="font: 300 20px Lato,sans-serif;background-color: #eeeeee;padding: 10px;border-right:2px solid #cccccc;">
  <a href="/" style="color:#444444">&#10094; Home</a>
  </td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Koduino
   </div>
   <div id="projectbrief">Arduino core for STM32</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Modules</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Guide </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>#&lt;cldoc:Docs::Guide&gt;</p>
<p>Getting started</p>
<h2>Quick Start</h2>
<p>Quickly get up and running with your first project.</p>
<p>A <em>project</em> is a directory containing a special <code>Makefile</code> and at least one <code>.cpp</code> file implementing either the <code>setup()</code> and <code>loop()</code> functions, or a <code>main()</code> function.</p>
<h3>Project file</h3>
<p>```c++</p>
<p>#include &lt;<a class="el" href="_arduino_8h_source.html">Arduino.h</a>&gt;</p>
<p>const PinName led = PC13;</p>
<p>void setup() { pinMode(led, OUTPUT); Serial1.begin(115200); }</p>
<p>uint32_t tic, toc;</p>
<p>void loop() { digitalWrite(led, TOGGLE); delay(1000);</p>
<p>tic = micros(); Serial1 &lt;&lt; "Current time = " &lt;&lt; millis() &lt;&lt; ". This took " &lt;&lt; toc &lt;&lt; "us." &lt;&lt; endl; toc = micros() - tic; }</p>
<p>```</p>
<h3>Makefile</h3>
<p>To compile this project, we need to include the <code>Arduino</code> library. Doing this is as simple as typing it into the <code>LIBRARIES</code> definition in the <code>Makefile</code> (which is a comma-separated list). You can find more <a href="#Guide/Makefile">Makefile options here</a>.</p>
<p>```make</p>
<p>UPLOAD_METHOD = SERIAL VENDORLIB = -lstm32f37x UPLOAD_BAUD = 500000 LIBRARIES = Arduino</p>
<p>include /Users/avik/repos/stm32-robot/project.mk</p>
<p>```</p>
<p>The <code>stm32-robot/libraries/*/examples/</code> subdirectories of the repository contain a variety of example projects</p>
<p>The code above is for the <code>Blink</code> example. To start off, navigate (using <code>cd</code>) to <code>stm32-robot/libraries/Arduino/examples/Blink</code> (which has the same code as above), plug in the board, and type <code>make</code>.</p>
<p>A lot of the core library code is meant to seem familar to <a href="http://arduino.cc/en/Reference/HomePage">Arduino code</a>. Please see the [compatibility matrix](Overview) for more details.</p>
<h2>Makefile</h2>
<p><em>NOTE: It seems like the Makefile has errors if there is a space in the username</em></p>
<ul>
<li><code>UPLOAD_METHOD</code>: Can be <code>SERIAL</code> or <code>DFU</code>. If the board has an FTDI chip connected to the upload USB port, then pick <code>SERIAL</code>, otherwise pick <code>DFU</code>.</li>
<li><code>UPLOAD_BAUD</code> *(optional)*: Baud rate for Serial upload. For wired connections, something like 500000 should work and be quite fast. For wireless bootloading with an XBee, the baud rate must match the XBee's baud rate.</li>
<li><code>LIBRARIES</code> *(optional)*: Space-separated list of library names. E.g <code>LIBRARIES = Arduino SPI</code>. Note that this includes the library directory in the include path, but you still need the <code>#include &lt;<a class="el" href="_arduino_8h_source.html">Arduino.h</a>&gt;</code> (or whatever the header file for the library is called) in the project file.</li>
<li>The last line of the Makefile must be <code>include /Users/avik/repos/stm32-robot/project.mk</code></li>
</ul>
<h2>Library organization</h2>
<p>At the root level, there should be directories called <code>libraries</code>, <code>vendor</code>, and <code>wirish</code>.</p>
<h3>Vendor</h3>
<p>This directory contains code that came from the hardware vendor (i.e. library code not written by me). This currently includes the <a href="http://www.doulos.com/knowhow/arm/CMSIS/">ARM CMSIS DSP libraries</a> which are standard for Cortex-M series ARM microcontrollers, the ST Standard Peripheral Library and the ST CPAL (I2C) library.</p>
<p>These last two libraries are generally not very user friendly, and the only source of documentation are their respective user guides:</p>
<ul>
<li><a href="https://bitbucket.org/kodlab/stm32-robot/downloads/stm32_periph.pdf">Standard Peripheral Library</a></li>
<li><a href="https://bitbucket.org/kodlab/stm32-robot/downloads/stm32_cpal.pdf">CPAL</a></li>
</ul>
<h3>Wirish</h3>
<p>This core library is a thin layer on top of the vendor libraries written purely in C, for no overhead. This includes support for a <a href="../Reference/Time">system time</a>, <a href="../Reference/Timebase">timer interrupts</a>, <a href="../Reference/EXTI">external interrupts</a>, <a href="../Reference/Digital">digital I/O</a>, <a href="../Reference/ADC">analog input</a>, <a href="../Reference/Timer">PWM output and input</a>, etc. Please see the <a href="../Reference">Reference</a> section for all the functionality exposed by this library.</p>
<h3>Libraries</h3>
<p>The <code>libraries</code> directory contains libraries in a structure identical to <a href="http://arduino.cc/en/Guide/Libraries">Arduino's</a>. Library code is allowed to be in C or C++.</p>
<p>For example, let us take the <code>EEPROM</code> library. It is located in a subdirectory (which must be named the library name) of <code>libraries</code>. </p><div class="image">
<img src="https://bitbucket.org/repo/b7yK6p/images/1615822614-eeprom_dir_structure.png"  alt="eeprom_dir_structure.png"/>
</div>
<p>The source files are located in the first level under the library directory, and an <code>examples</code> subdirectory under the library may contain example projects.</p>
<p>Including a library in a project is [easy](QuickStart).</p>
<p>For most purposes, you will want to include the <code>Arduino</code> library in any project (the only exceptions to this would be situations in which you must avoid C++ for overhead reasons, etc.) Adding the Arduino library adds functionality like <a href="Reference/Serial">Serial</a>, <a href="http://arduino.cc/en/Reference/Stream">Stream</a>, <a href="http://arduiniana.org/libraries/streaming/">Streaming</a>, some [math functionality](Reference), a <a href="http://arduino.cc/en/Reference/StringObject">String class</a>, etc. </p>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Dec 12 2014 19:11:58 for Koduino by &#160;<a href="http://www.doxygen.org/index.html">
Doxygen
</a> 1.8.8
</small></address>
</body>
</html>
